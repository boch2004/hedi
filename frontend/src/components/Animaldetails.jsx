import { useSelector } from "react-redux";
import { useParams } from "react-router";
import "./Animaldetails.css";
import AdoptModal from "./AdoptModal";
import { FaSyringe } from "react-icons/fa";


function Animaldetails() {
  const user = useSelector((state) => state.user.user);
  const animals = useSelector((state) => state.animal?.animalList || []);
  const { id } = useParams();
  const animal = animals.find((p) => p._id === id);

  if (!animal) {
    return <p className="not-found">"Aucun animal trouv√©</p>;
  }
  return (
    <div className="Animaldetails-container">
      <div className="animal-cardd">
        <img
          className="animal-imgg"
          src={`http://localhost:5000/uploads/${animal?.img}`}
          alt={animal?.name}
        />
        <div className="animal-detailss">
          <h4 className="animal-titlee">{animal?.name}</h4>

          {[
            { label: "Description", value: animal?.description },
            { label: "Name", value: animal?.name },
            { label: " Type d'animal", value: animal?.Type },
            { label: "Race", value: animal?.race },
            { label: "Sexe", value: animal?.gender },
            { label: "Localisation", value: animal?.location },
            { label: "Remarque", value: animal?.remarque },
            { label: "adoption", value: animal?.adoption ? "Non disponible" : "Disponible" },
          ].map((item, index) => (
            <p className="animal-descc" key={index}>
              <strong>{item.label}:</strong>&nbsp;
              {item.value}
            </p>
          ))}
          {user?.category !== "admin" && user?._id !== animal?.idanimal ? (
            //ne s'affiche pas pour admin ou bien le proteur d'animaux le staut 
            animal?.adoption === true ? (
              <p style={{ fontStyle: "italic", color: "red" }}>
                Non disponible.
              </p>
            ) : (
                <AdoptModal
                  proprietaire={animal?.proprietaire}
                  animalId={animal?._id}
                  user_id={animal?.idanimal}
                />
            )
          ) : user?._id === animal?.idanimal ? (
            <p style={{ fontStyle: "italic", color: "green" }}>
              C'est votre propre animal.
            </p>
          ) : null}


        </div>
      </div>
      {/* sec2 */}

      <div style={{ display: "flex", justifyContent: "center" }}>
        <div className="Group ">
          <div>
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_956_13678)">
                <path
                  d="M19.9042 13.9182C19.4967 13.4461 19.0298 13.0429 18.6007 12.7209C19.3773 11.7003 19.7816 10.4401 19.7816 9.00732C19.7816 8.06182 19.6046 7.15702 19.2828 6.32366C20.0941 5.81302 20.6347 4.91006 20.6347 3.8827C20.6347 2.29318 19.3415 1 17.752 1C16.7864 1 15.9308 1.47771 15.4074 2.20865C14.4632 1.77684 13.4143 1.53579 12.31 1.53579C11.2057 1.53579 10.1568 1.77684 9.21264 2.20869C8.6892 1.47771 7.8336 1 6.86801 1C5.27847 1 3.98528 2.29318 3.98528 3.8827C3.98528 4.91006 4.52591 5.81302 5.33721 6.32366C5.0154 7.15702 4.83841 8.06182 4.83841 9.00732C4.83841 10.4402 5.24267 11.7003 6.0193 12.7209C5.59019 13.0429 5.12331 13.4461 4.71582 13.9182C3.51335 15.3114 2.95307 16.5571 3.00307 17.7264C3.04363 18.6753 3.75083 19.6911 5.20427 19.8333C5.20829 21.0287 6.18185 22 7.3782 22H17.2418C18.4381 22 19.4117 21.0287 19.4157 19.8333C20.8691 19.6911 21.5764 18.6753 21.6169 17.7264C21.6669 16.5571 21.1067 15.3114 19.9042 13.9182ZM7.3782 20.7695C6.85783 20.7695 6.43455 20.3462 6.43455 19.8259C6.43455 18.8758 7.20754 18.1028 8.15767 18.1028C9.10781 18.1028 9.88079 18.8758 9.88079 19.8259C9.88079 20.3462 9.45747 20.7696 8.93714 20.7696H7.3782V20.7695ZM14.7392 19.8258C14.7392 18.8757 15.5122 18.1028 16.4623 18.1028C17.4125 18.1028 18.1855 18.8758 18.1855 19.8259C18.1855 20.3462 17.7621 20.7695 17.2418 20.7695H15.6829C15.1625 20.7695 14.7392 20.3462 14.7392 19.8258ZM20.3876 17.6739C20.3835 17.7682 20.3143 18.576 19.1566 18.618C18.974 18.2124 18.7028 17.8551 18.3672 17.5712V16.1271H17.1367V16.9509C16.92 16.9001 16.6944 16.8723 16.4623 16.8723C14.8337 16.8723 13.5087 18.1973 13.5087 19.8259C13.5087 20.1639 13.5863 20.484 13.7244 20.7696H10.8955C11.0337 20.484 11.1112 20.1639 11.1112 19.8259C11.1112 18.1973 9.78625 16.8724 8.15763 16.8724C7.92556 16.8724 7.70001 16.9001 7.48325 16.951V16.1271H6.25277V17.5713C5.91721 17.8552 5.64598 18.2124 5.46337 18.6181C4.30561 18.5761 4.23642 17.7683 4.2324 17.6739C4.19696 16.8442 4.67299 15.8511 5.64733 14.7222C6.025 14.2846 6.47335 13.9109 6.87375 13.6205C6.94224 13.6789 7.01193 13.7364 7.08375 13.7924C8.41874 14.8322 10.2259 15.3819 12.31 15.3819C14.3941 15.3819 16.2013 14.8322 17.5363 13.7924C17.6083 13.7362 17.6782 13.6785 17.7469 13.6199C18.1463 13.9096 18.5937 14.2831 18.9727 14.7222C19.947 15.851 20.423 16.8441 20.3876 17.6739ZM12.31 2.76626C15.7514 2.76626 18.5511 5.56598 18.5511 9.00732C18.5511 10.6001 17.9387 11.9191 16.7801 12.8216C15.8077 13.579 14.4555 14.0357 12.9252 14.132V12.8025C13.0646 12.7515 13.2209 12.6846 13.3787 12.5982C14.0837 12.2125 14.4719 11.6202 14.4719 10.9306C14.4719 9.90634 13.5627 9.16297 12.31 9.16297C11.0573 9.16297 10.1481 9.90634 10.1481 10.9306C10.1481 11.6202 10.5364 12.2125 11.2413 12.5982C11.3991 12.6846 11.5554 12.7515 11.6948 12.8025V14.132C10.1645 14.0357 8.81233 13.579 7.83992 12.8216C6.6813 11.9191 6.06889 10.6001 6.06889 9.00732C6.06889 5.56598 8.86864 2.76626 12.31 2.76626ZM5.21576 3.8827C5.21576 2.97166 5.95696 2.23047 6.86801 2.23047C7.37345 2.23047 7.82634 2.45884 8.12966 2.81753C7.21521 3.43707 6.44509 4.25397 5.88001 5.20623C5.47703 4.90465 5.21576 4.42362 5.21576 3.8827ZM19.4043 3.8827C19.4043 4.42362 19.143 4.90465 18.74 5.20623C18.1749 4.25397 17.4048 3.43707 16.4904 2.81753C16.7936 2.45884 17.2465 2.23047 17.752 2.23047C18.6631 2.23047 19.4043 2.97166 19.4043 3.8827ZM11.3786 10.9305C11.3786 10.6718 11.6701 10.3934 12.31 10.3934C12.9499 10.3934 13.2414 10.6718 13.2414 10.9305C13.2414 11.4017 12.5786 11.6333 12.3102 11.7078C12.04 11.6329 11.3786 11.4012 11.3786 10.9305Z"
                  fill="#8653C8"
                ></path>
                <path
                  d="M7.93481 8.51953H9.16528V9.75H7.93481V8.51953Z"
                  fill="#8653C8"
                ></path>
                <path
                  d="M15.4543 8.51953H16.6848V9.75H15.4543V8.51953Z"
                  fill="#8653C8"
                ></path>
              </g>
              <defs>
                <clipPath id="clip0_956_13678">
                  <rect width="24" height="24" fill="white"></rect>
                </clipPath>
              </defs>
            </svg>
            <span style={{ color: "#cdb1f5" }}>Couleur de poil :
            </span>
            <span>{animal?.Couleur}</span>
          </div>
          <div>
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M14.0605 2.37769H14.082H14.0605ZM14.0605 2.37769L12.5106 10.5362L18.1505 10.5577L10.4871 21.6223L12.037 12.6458L6.39712 12.6243L14.0605 2.37769ZM14.0605 1H13.9529C13.8381 1.01435 13.7376 1.03947 13.6515 1.07534C13.5654 1.11122 13.4685 1.16504 13.3609 1.23679C13.2533 1.30855 13.1564 1.39465 13.0703 1.49511C13.056 1.50946 13.0452 1.52381 13.038 1.53816C13.0308 1.55251 13.0201 1.56686 13.0057 1.58121L5.27774 11.7847C4.94767 12.244 4.91179 12.7247 5.17011 13.227C5.21316 13.3131 5.26698 13.3956 5.33156 13.4746C5.39614 13.5535 5.46789 13.6252 5.54682 13.6898C5.62575 13.7544 5.71186 13.8082 5.80514 13.8513C5.89842 13.8943 5.99529 13.9266 6.09575 13.9481C6.1962 13.9697 6.29666 13.9804 6.39712 13.9804L10.3795 14.002L9.10945 21.3855C9.05204 21.7012 9.10227 21.999 9.26013 22.2789C9.41799 22.5587 9.64043 22.7632 9.92745 22.8924C10.0136 22.9354 10.1032 22.9641 10.1965 22.9785C10.2898 22.9928 10.3867 23 10.4871 23C10.9033 23 11.2549 22.8134 11.5419 22.4403L19.2699 11.3757C19.6 10.9165 19.6359 10.4357 19.3775 9.93346C19.1192 9.43118 18.7102 9.18004 18.1505 9.18004H14.1682L15.4167 2.70059C15.431 2.64318 15.4418 2.58937 15.449 2.53914C15.4562 2.48891 15.4597 2.43509 15.4597 2.37769C15.4597 2.24853 15.4418 2.12655 15.4059 2.01174C15.37 1.89693 15.3234 1.7893 15.266 1.68885C15.2086 1.58839 15.1404 1.49511 15.0615 1.409C14.9826 1.3229 14.8929 1.25114 14.7924 1.19374C14.692 1.13633 14.5843 1.08969 14.4695 1.05382C14.3547 1.01794 14.2399 1 14.1251 1H14.0605Z"
                fill="#8653C8"
              ></path>
            </svg>
            <span style={{ color: "#cdb1f5" }}>Activite :
            </span>
            <span>{animal?.Activite}</span>
          </div>
          <div>
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M14.8641 7.88574H8.55273C7.3272 7.88574 6.58826 8.81249 6.58826 9.88362V21.0665C6.58826 22.1335 7.57955 22.9997 8.80249 22.9997H14.6131C15.8373 22.9997 16.8273 22.1335 16.8273 21.0665V9.88362C16.8286 8.81249 16.0897 7.88574 14.8641 7.88574ZM15.6108 20.5949C15.6108 21.1944 14.9314 21.6839 14.0967 21.6839H9.29555C8.45955 21.6839 7.78273 21.1944 7.78273 20.5949V11.425C7.78273 11.1225 7.9652 9.75574 11.7414 10.9726C15.5203 12.195 15.6108 11.128 15.6108 11.425V20.5949V20.5949Z"
                fill="#8653C8"
              ></path>
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M14.2675 5.07825L12.6213 3.75V1.95013C12.6213 1.42488 12.1917 1 11.6624 1C11.1344 1 10.706 1.42625 10.706 1.95013V3.71563L9.17769 5.07688L9.13757 5.07138V6.511H14.2687V5.07275V5.07825H14.2675V5.07825Z"
                fill="#8653C8"
              ></path>
            </svg>
            <span style={{ color: "#cdb1f5" }}>Age :
            </span>
            <span>{animal?.age}</span>
          </div>
          <div>
            <FaSyringe style={{ color:"#8653c8" ,width:47,height:21,}} />
            <span style={{ color: "#cdb1f5" }}>Vaccin :
            </span>
            <span>{animal?.vaccin}</span>
          </div>
        </div>
      </div>
    </div>
  );
}

export default Animaldetails;
